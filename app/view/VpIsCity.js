/*
 * File: app/view/VpIsCity.js
 * Date: Thu Mar 25 2021 14:00:29 GMT+0200 (EET)
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('yis.view.VpIsCity', {
    extend: 'Ext.container.Viewport',
    alias: 'widget.vpIsCity',

    requires: [
        'yis.view.VpIsCityViewModel',
        'yis.view.flat.TabLogin',
        'yis.view.flat.TabNach',
        'yis.view.flat.TabInfoApp',
        'yis.view.flat.tabAppBti',
        'yis.view.flat.TabNachApp',
        'yis.view.flat.TabAppVodomer',
        'yis.view.flat.TabAppTeplomer',
        'yis.view.flat.TabAppOplata',
        'yis.view.flat.TabKassa',
        'yis.view.flat.TabMarfinBank',
        'Ext.tab.Panel',
        'Ext.tab.Tab',
        'Ext.form.FieldSet',
        'Ext.form.Label',
        'Ext.view.View',
        'Ext.XTemplate'
    ],

    viewModel: {
        type: 'vpIsCity'
    },
    id: 'vpisCity',
    layout: 'border',

    items: [
        {
            xtype: 'panel',
            region: 'west',
            splitterResize: false,
            border: false,
            id: 'leftPanel',
            layout: 'vbox',
            frameHeader: false,
            header: false,
            items: [
                {
                    xtype: 'container',
                    height: 73,
                    html: '<h6 class="header"><span>Южненская<br>Коммунальная<br>Информационная<br>Система</span></h6>',
                    style: 'background-color: #f3f3f3;',
                    width: 190
                },
                {
                    xtype: 'tabpanel',
                    flex: 1,
                    border: false,
                    id: 'leftPanelMenu',
                    width: 190,
                    collapseFirst: false,
                    frameHeader: false,
                    activeTab: 0,
                    plain: true,
                    items: [
                        {
                            xtype: 'panel',
                            border: false,
                            id: 'tabMenuHome',
                            layout: 'fit',
                            icon: 'resources/css/images/ico/home_16.png',
                            title: ' ',
                            items: [
                                {
                                    xtype: 'fieldset',
                                    border: false,
                                    style: 'background-color: #DCDCDC;',
                                    title: '',
                                    layout: {
                                        type: 'vbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'label',
                                            cls: 'show-login',
                                            id: 'showLogin',
                                            margin: 10,
                                            width: 200,
                                            text: ''
                                        },
                                        {
                                            xtype: 'button',
                                            margins: '',
                                            id: 'btnAvtorisazia',
                                            margin: '10 20 10 20',
                                            icon: 'resources/css/images/btn32/my-profile_32.png',
                                            scale: 'medium',
                                            text: 'авторизация',
                                            tooltipType: 'title'
                                        },
                                        {
                                            xtype: 'button',
                                            id: 'btnRegistration',
                                            margin: '10 20 10 20',
                                            icon: 'resources/css/images/btn32/contact_32.png',
                                            scale: 'medium',
                                            text: ' регистрация',
                                            tooltipType: 'title'
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            border: false,
                            id: 'tabMenuMyFlat',
                            frameHeader: false,
                            header: false,
                            iconCls: 'icon-flat',
                            title: 'Мои квартиры',
                            layout: {
                                type: 'vbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'panel',
                                    flex: 1,
                                    border: false,
                                    id: 'pnChoiceMyFlat',
                                    layout: 'fit',
                                    title: '',
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            height: 279,
                                            style: 'background-color: #DCDCDC;',
                                            title: '',
                                            layout: {
                                                type: 'vbox',
                                                align: 'stretch'
                                            },
                                            items: [
                                                {
                                                    xtype: 'dataview',
                                                    flex: 0.5,
                                                    cls: 'add-flat-list',
                                                    id: 'listMenuAddMyFlat',
                                                    margin: '10 0 0 0',
                                                    itemSelector: '.add-flat-list-item',
                                                    itemTpl: [
                                                        '<tpl for="."><div class="add-flat-list-item">{address}</div></tpl>'
                                                    ],
                                                    overItemCls: 'add-flat-list-item-hover',
                                                    store: 'StAddMyFlat'
                                                },
                                                {
                                                    xtype: 'dataview',
                                                    flex: 3.5,
                                                    margins: '10 0 10 ',
                                                    border: '',
                                                    cls: 'flat-list',
                                                    id: 'listMenuMyFlat',
                                                    style: 'border:0px;',
                                                    itemSelector: '.flat-list-item',
                                                    itemTpl: [
                                                        '<tpl for="."><div class="flat-list-item">{address}</div></tpl>'
                                                    ],
                                                    overItemCls: 'flat-list-item-hover',
                                                    store: 'StMyFlat'
                                                },
                                                {
                                                    xtype: 'fieldset',
                                                    flex: 5,
                                                    title: 'Оплатить с помощью',
                                                    items: [
                                                        {
                                                            xtype: 'button',
                                                            handler: function(button, e) {
                                                                // in use
                                                                var me = this;
                                                                //STORE

                                                                var stUser = Ext.data.StoreManager.get("StUser");

                                                                var values =stUser.getAt(0);

                                                                var address_id = values.get('address_id');
                                                                var url = 'https://next.privat24.ua/payments/form/{"token" :"eb6ea420aafcfed30f1e8004bad725238xp65yel","personalAccount":"'+address_id+'"}';
                                                                //console.log(url);
                                                                window.open(url,'_blank');


                                                            },
                                                            anchor: '100%',
                                                            cls: 'btn_privatbank',
                                                            frame: false,
                                                            height: 110,
                                                            hidden: true,
                                                            id: 'btnPrivatBank',
                                                            width: 100,
                                                            iconCls: 'btn_privatbank',
                                                            scale: 'large'
                                                        },
                                                        {
                                                            xtype: 'button',
                                                            anchor: '100%',
                                                            cls: 'btn_mtb',
                                                            height: 60,
                                                            hidden: true,
                                                            id: 'btnMarfinBank',
                                                            margin: '20 0 20 0',
                                                            width: 176,
                                                            scale: 'large'
                                                        },
                                                        {
                                                            xtype: 'button',
                                                            anchor: '100%',
                                                            cls: 'btn_visa',
                                                            height: 103,
                                                            hidden: true,
                                                            id: 'btnIpayVisa',
                                                            width: 168,
                                                            scale: 'large'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            xtype: 'panel',
            region: 'south',
            height: 20,
            html: '<center><span style="color:#04468C;text-shadow: 2px 3px 5px #bfbfbf;position:absolute;display:block;top:3px;letter-spacing:-.05em;font-family:serif;left:0;height:60%;width:100%;background-color:#FFFFFF;filter:alpha(opacity=65);-moz-opacity: 0.65;opacity: 0.65;">&copy;2004 -2014 Южненская коммунальная информационная система&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITX &amp; Нижельский С.А.</span></center>',
            id: 'mainSouth',
            itemId: 'mainSouth'
        },
        {
            xtype: 'tabpanel',
            region: 'center',
            border: false,
            id: 'tabFirstPage',
            autoDestroy: false,
            bodyBorder: false,
            closeAction: 'hide',
            frameHeader: false,
            activeTab: 0,
            plain: true,
            items: [
                {
                    xtype: 'tabLogin',
                    border: false
                },
                {
                    xtype: 'tabnach'
                },
                {
                    xtype: 'tabInfoapp'
                },
                {
                    xtype: 'tabappbti'
                },
                {
                    xtype: 'tabnachapp'
                },
                {
                    xtype: 'tabappvodomer'
                },
                {
                    xtype: 'tabappteplomer'
                },
                {
                    xtype: 'tabappoplata'
                },
                {
                    xtype: 'tabkassa'
                },
                {
                    xtype: 'tabMarfinBank',
                    title: 'mtb.pay'
                }
            ]
        }
    ]

});